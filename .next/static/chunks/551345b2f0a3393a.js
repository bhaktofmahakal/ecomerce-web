(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},96074,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(43531),a=e.i(75254);let l=(0,a.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,a.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),i=(0,a.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),d=(0,a.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function c(){let[e,a]=(0,s.useState)([]),[c,o]=(0,s.useState)(!0),[x,p]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[h,g]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[N,v]=(0,s.useState)({name:"",slug:"",description:"",price:"",category:"Electronics",inventory:""});(0,s.useEffect)(()=>{k()},[]);let k=(0,s.useCallback)(async()=>{try{o(!0),p("");let e=await fetch("/api/products");if(!e.ok)throw Error("Failed to fetch products");let t=await e.json();a(t)}catch(e){p(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},[]),w=(e,t)=>{f({type:e,text:t}),setTimeout(()=>f(null),3e3)},P=e=>{let{name:t,value:s}=e.target;v(e=>({...e,[t]:s}))},C=async e=>{if(e.preventDefault(),!m)return void w("error","Please enter API key");if(!N.name||!N.slug||!N.price||!N.inventory)return void w("error","Please fill all required fields");try{let e={name:N.name,slug:N.slug,description:N.description,price:parseFloat(N.price),category:N.category,inventory:parseInt(N.inventory)},t="add"===h?"/api/products":`/api/products/${y}`,s=await fetch(t,{method:"add"===h?"POST":"PUT",headers:{"Content-Type":"application/json","x-api-key":m},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to save product")}await k(),A(),w("success",`Product ${"add"===h?"created":"updated"} successfully!`)}catch(e){w("error",e instanceof Error?e.message:"An error occurred")}},A=()=>{g(null),j(null),v({name:"",slug:"",description:"",price:"",category:"Electronics",inventory:""})};return(0,t.jsxs)("div",{className:"space-y-12",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Authentication"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Enter your API key to manage products. Default key: ",(0,t.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"admin-secret-key-2024"})]}),(0,t.jsx)("input",{type:"password",placeholder:"Enter API key...",value:m,onChange:e=>u(e.target.value),className:"input-field"})]}),b&&(0,t.jsxs)("div",{className:`rounded-lg p-4 flex items-center gap-3 ${"success"===b.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:"success"===b.type?(0,t.jsx)(r.Check,{size:20}):(0,t.jsx)(l,{size:20})}),(0,t.jsx)("span",{children:b.text})]}),x&&(0,t.jsxs)("div",{className:"bg-red-50 text-red-800 rounded-lg p-4 border border-red-200",children:["Error: ",x]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"edit"===h?"Edit Product":"Add New Product"}),h&&(0,t.jsx)("button",{onClick:A,className:"btn-secondary",children:"Cancel"})]}),h?(0,t.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,t.jsx)("input",{type:"text",name:"name",value:N.name,onChange:P,className:"input-field",placeholder:"e.g., Premium Headphones"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug *"}),(0,t.jsx)("input",{type:"text",name:"slug",value:N.slug,onChange:P,className:"input-field",placeholder:"e.g., premium-headphones"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,t.jsx)("input",{type:"number",name:"price",value:N.price,onChange:P,className:"input-field",placeholder:"99.99",step:"0.01",min:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,t.jsxs)("select",{name:"category",value:N.category,onChange:P,className:"input-field",children:[(0,t.jsx)("option",{value:"Electronics",children:"Electronics"}),(0,t.jsx)("option",{value:"Accessories",children:"Accessories"}),(0,t.jsx)("option",{value:"Clothing",children:"Clothing"}),(0,t.jsx)("option",{value:"Books",children:"Books"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inventory *"}),(0,t.jsx)("input",{type:"number",name:"inventory",value:N.inventory,onChange:P,className:"input-field",placeholder:"0",min:"0"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{name:"description",value:N.description,onChange:P,className:"input-field h-32",placeholder:"Product description..."})]}),(0,t.jsx)("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:"add"===h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{size:20}),"Add Product"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{size:20}),"Update Product"]})})]}):(0,t.jsxs)("button",{onClick:()=>g("add"),className:"btn-primary flex items-center gap-2",children:[(0,t.jsx)(n,{size:20}),"Add New Product"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Products Management"}),c?(0,t.jsx)("p",{className:"text-center text-gray-600 py-8",children:"Loading products..."}):0===e.length?(0,t.jsx)("p",{className:"text-center text-gray-600 py-8",children:"No products found"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Name"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Price"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Inventory"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Category"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"py-3 px-4",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.slug})]}),(0,t.jsxs)("td",{className:"text-right py-3 px-4",children:["$",e.price.toFixed(2)]}),(0,t.jsx)("td",{className:"text-right py-3 px-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-sm font-medium ${0===e.inventory?"bg-red-100 text-red-800":e.inventory<50?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e.inventory})}),(0,t.jsx)("td",{className:"py-3 px-4",children:e.category}),(0,t.jsx)("td",{className:"text-center py-3 px-4",children:(0,t.jsxs)("button",{onClick:()=>{g("edit"),j(e.id),v({name:e.name,slug:e.slug,description:e.description,price:e.price.toString(),category:e.category,inventory:e.inventory.toString()})},className:"text-indigo-600 hover:text-indigo-800 font-medium text-sm flex items-center gap-1 mx-auto",children:[(0,t.jsx)(d,{size:16}),"Edit"]})})]},e.id))})]})})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 mb-4",children:"API Documentation"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm text-blue-800",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Base URL:"})," ",(0,t.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"/api"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Authentication:"})," Add header ",(0,t.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"x-api-key"})]}),(0,t.jsxs)("ul",{className:"space-y-2 ml-4",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"POST /api/products"})," - Create new product (requires auth)"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"PUT /api/products/[id]"})," - Update product (requires auth)"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"GET /api/products"})," - Get all products"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"GET /api/products/[slug]"})," - Get product by slug"]})]})]})]})]})}e.s(["default",()=>c],96074)}]);